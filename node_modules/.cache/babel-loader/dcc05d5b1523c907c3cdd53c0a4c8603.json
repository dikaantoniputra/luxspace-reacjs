{"ast":null,"code":"import _defineProperty from\"C:/Users/Dika/Documents/luxspace-react/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Dika/Documents/luxspace-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Dika/Documents/luxspace-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useContext,useReducer}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var Context=/*#__PURE__*/createContext();var initialState={cart:{}};export function useGlobalContext(){var _useContext=useContext(Context),_useContext2=_slicedToArray(_useContext,2),state=_useContext2[0],dispatch=_useContext2[1];if(!state||!dispatch){throw new Error(\"useGlobalContext must be used within a Provider\");}return{state:state,dispatch:dispatch};}function Reducer(state,action){switch(action.type){case\"ADD_TO_CART\":console.log(action);return _objectSpread(_objectSpread({},state),{},{cart:state.cart?_objectSpread(_objectSpread({},state.cart),{},_defineProperty({},action.item.id,action.item)):_defineProperty({},action.item.id,action.item)});case\"REMOVE_FROM_CART\":return _objectSpread(_objectSpread({},state),{},{cart:Object.keys(state.cart).filter(function(key){return+key!==+action.id;}).reduce(function(acc,key){var item=state.cart[key];acc[item.id]=item;return acc;},{})});case\"RESET_CART\":return _objectSpread(_objectSpread({},state),{},{cart:initialState.cart});default:{throw new Error(\"Unhandled action type \".concat(action.type));}}}export default function Provider(props){var _useReducer=useReducer(Reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// console.log(state);\nreturn/*#__PURE__*/_jsx(Context.Provider,_objectSpread({value:[state,dispatch]},props));}","map":{"version":3,"names":["React","createContext","useContext","useReducer","Context","initialState","cart","useGlobalContext","state","dispatch","Error","Reducer","action","type","console","log","item","id","Object","keys","filter","key","reduce","acc","Provider","props"],"sources":["C:/Users/Dika/Documents/luxspace-react/src/helpers/hooks/useGlobalContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\nconst Context = createContext();\r\n\r\nconst initialState = {\r\n  cart: {},\r\n};\r\n\r\nexport function useGlobalContext() {\r\n  const [state, dispatch] = useContext(Context);\r\n\r\n  if (!state || !dispatch) {\r\n    throw new Error(\"useGlobalContext must be used within a Provider\");\r\n  }\r\n\r\n  return { state, dispatch };\r\n}\r\n\r\nfunction Reducer(state, action) {\r\n  switch (action.type) {\r\n    case \"ADD_TO_CART\":\r\n      console.log(action);\r\n      return {\r\n        ...state,\r\n        cart: state.cart\r\n          ? {\r\n              ...state.cart,\r\n              [action.item.id]: action.item,\r\n            }\r\n          : { [action.item.id]: action.item },\r\n      };\r\n\r\n    case \"REMOVE_FROM_CART\":\r\n      return {\r\n        ...state,\r\n        cart: Object.keys(state.cart)\r\n          .filter((key) => +key !== +action.id)\r\n          .reduce((acc, key) => {\r\n            const item = state.cart[key];\r\n            acc[item.id] = item;\r\n            return acc;\r\n          }, {}),\r\n      };\r\n\r\n    case \"RESET_CART\":\r\n      return {\r\n        ...state,\r\n        cart: initialState.cart,\r\n      };\r\n\r\n    default: {\r\n      throw new Error(`Unhandled action type ${action.type}`);\r\n    }\r\n  }\r\n}\r\n\r\nexport default function Provider(props) {\r\n  const [state, dispatch] = useReducer(Reducer, initialState);\r\n  // console.log(state);\r\n  return <Context.Provider value={[state, dispatch]} {...props} />;\r\n}\r\n"],"mappings":"qXAAA,MAAOA,MAAP,EAAgBC,aAAhB,CAA+BC,UAA/B,CAA2CC,UAA3C,KAA6D,OAA7D,C,2CAEA,GAAMC,QAAO,cAAGH,aAAa,EAA7B,CAEA,GAAMI,aAAY,CAAG,CACnBC,IAAI,CAAE,EADa,CAArB,CAIA,MAAO,SAASC,iBAAT,EAA4B,CACjC,gBAA0BL,UAAU,CAACE,OAAD,CAApC,4CAAOI,KAAP,iBAAcC,QAAd,iBAEA,GAAI,CAACD,KAAD,EAAU,CAACC,QAAf,CAAyB,CACvB,KAAM,IAAIC,MAAJ,CAAU,iDAAV,CAAN,CACD,CAED,MAAO,CAAEF,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAP,CACD,CAED,QAASE,QAAT,CAAiBH,KAAjB,CAAwBI,MAAxB,CAAgC,CAC9B,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,aAAL,CACEC,OAAO,CAACC,GAAR,CAAYH,MAAZ,EACA,sCACKJ,KADL,MAEEF,IAAI,CAAEE,KAAK,CAACF,IAAN,gCAEGE,KAAK,CAACF,IAFT,wBAGCM,MAAM,CAACI,IAAP,CAAYC,EAHb,CAGkBL,MAAM,CAACI,IAHzB,sBAKCJ,MAAM,CAACI,IAAP,CAAYC,EALb,CAKkBL,MAAM,CAACI,IALzB,CAFR,GAUF,IAAK,kBAAL,CACE,sCACKR,KADL,MAEEF,IAAI,CAAEY,MAAM,CAACC,IAAP,CAAYX,KAAK,CAACF,IAAlB,EACHc,MADG,CACI,SAACC,GAAD,QAAS,CAACA,GAAD,GAAS,CAACT,MAAM,CAACK,EAA1B,EADJ,EAEHK,MAFG,CAEI,SAACC,GAAD,CAAMF,GAAN,CAAc,CACpB,GAAML,KAAI,CAAGR,KAAK,CAACF,IAAN,CAAWe,GAAX,CAAb,CACAE,GAAG,CAACP,IAAI,CAACC,EAAN,CAAH,CAAeD,IAAf,CACA,MAAOO,IAAP,CACD,CANG,CAMD,EANC,CAFR,GAWF,IAAK,YAAL,CACE,sCACKf,KADL,MAEEF,IAAI,CAAED,YAAY,CAACC,IAFrB,GAKF,QAAS,CACP,KAAM,IAAII,MAAJ,iCAAmCE,MAAM,CAACC,IAA1C,EAAN,CACD,CAjCH,CAmCD,CAED,cAAe,SAASW,SAAT,CAAkBC,KAAlB,CAAyB,CACtC,gBAA0BtB,UAAU,CAACQ,OAAD,CAAUN,YAAV,CAApC,4CAAOG,KAAP,iBAAcC,QAAd,iBACA;AACA,mBAAO,KAAC,OAAD,CAAS,QAAT,gBAAkB,KAAK,CAAE,CAACD,KAAD,CAAQC,QAAR,CAAzB,EAAgDgB,KAAhD,EAAP,CACD"},"metadata":{},"sourceType":"module"}